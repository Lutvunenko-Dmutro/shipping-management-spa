import React, { useState, useEffect } from 'react'; // –Ü–º–ø–æ—Ä—Ç—É—î–º–æ React —Ç–∞ —Ö—É–∫–∏ useState (–¥–ª—è —Å—Ç–∞–Ω—É) —ñ useEffect (–¥–ª—è –ø–æ–±—ñ—á–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤)
import './App.css'; // –Ü–º–ø–æ—Ä—Ç—É—î–º–æ –æ—Å–Ω–æ–≤–Ω—ñ —Å—Ç–∏–ª—ñ –¥–æ–¥–∞—Ç–∫—É

// –Ü–º–ø–æ—Ä—Ç—É—î–º–æ –¥–æ—á—ñ—Ä–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
import ContainerList from './components/ContainerList';       // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ
import AddContainerForm from './components/AddContainerForm'; // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ñ–æ—Ä–º–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—è

// –ü–æ—á–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ –¥–ª—è —Å–ø–∏—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
const INITIAL_CONTAINERS = [
  { id: 'UA-123456', status: '–£ –¥–æ—Ä–æ–∑—ñ', location: '–ü–æ—Ä—Ç –û–¥–µ—Å–∞', destination: '–ü–æ—Ä—Ç –ì–∞–º–±—É—Ä–≥' },
  { id: 'UA-654321', status: '–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ', location: '–°–∫–ª–∞–¥ (–ö–∏—ó–≤)', destination: '–°–∫–ª–∞–¥ (–ö–∏—ó–≤)' },
  { id: 'UA-789012', status: '–û—á—ñ–∫—É—î', location: '–ü–æ—Ä—Ç –†–æ—Ç—Ç–µ—Ä–¥–∞–º', destination: '–°–∫–ª–∞–¥ (–õ—å–≤—ñ–≤)' }
];

/**
 * –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–¥–∞—Ç–∫—É React ("App").
 * –í—ñ–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞:
 * - –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å—Ç–∞–Ω—É (—Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, –∞–∫—Ç–∏–≤–Ω–∞ –≤–∫–ª–∞–¥–∫–∞).
 * - –ù–∞–¥–∞–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ (—Ñ—É–Ω–∫—Ü—ñ–π) –¥–ª—è –∑–º—ñ–Ω–∏ —Ü—å–æ–≥–æ —Å—Ç–∞–Ω—É –¥–æ—á—ñ—Ä–Ω—ñ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º.
 * - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ (–≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è) –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å—Ç–∞–Ω—É.
 */
function App() {
  // --- –°—Ç–∞–Ω –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (useState) ---

  // –°—Ç–∞–Ω –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –º–∞—Å–∏–≤—É –æ–±'—î–∫—Ç—ñ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤.
  // `containers` - –ø–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç–∞–Ω—É.
  // `setContainers` - —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü—å–æ–≥–æ —Å—Ç–∞–Ω—É.
  const [containers, setContainers] = useState(INITIAL_CONTAINERS); // –ü–æ—á–∞—Ç–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è - INITIAL_CONTAINERS

  // –°—Ç–∞–Ω –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞ –∞–∫—Ç–∏–≤–Ω–æ—ó –≤–∫–ª–∞–¥–∫–∏ ('dashboard', 'add', 'reports').
  // `activeTab` - –ø–æ—Ç–æ—á–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞ –≤–∫–ª–∞–¥–∫–∞.
  // `setActiveTab` - —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–º—ñ–Ω–∏ –∞–∫—Ç–∏–≤–Ω–æ—ó –≤–∫–ª–∞–¥–∫–∏.
  const [activeTab, setActiveTab] = useState('dashboard'); // –ü–æ—á–∞—Ç–∫–æ–≤–æ –∞–∫—Ç–∏–≤–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ 'dashboard'
  
  // --- –ü–æ–±—ñ—á–Ω–∏–π –ï—Ñ–µ–∫—Ç (useEffect) –¥–ª—è jQuery Parallax ---
  // `useEffect` –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∫–æ–¥ –∑ –ø–æ–±—ñ—á–Ω–∏–º–∏ –µ—Ñ–µ–∫—Ç–∞–º–∏ (–Ω–∞–ø—Ä., —Ä–æ–±–æ—Ç–∞ –∑ DOM –Ω–∞–ø—Ä—è–º—É, –∑–∞–ø–∏—Ç–∏ –¥–æ API)
  // –ü–Ü–°–õ–Ø —Ç–æ–≥–æ, —è–∫ React –≤—ñ–¥—Ä–µ–Ω–¥–µ—Ä–∏–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏.
  useEffect(() => {
    // –¶–µ–π –∫–æ–¥ –≤–∏–∫–æ–Ω–∞—î—Ç—å—Å—è –ö–û–ñ–ù–û–ì–û —Ä–∞–∑—É, –∫–æ–ª–∏ –∑–Ω–∞—á–µ–Ω–Ω—è `activeTab` –∑–º—ñ–Ω–∏—Ç—å—Å—è (–±–æ [activeTab] –≤–∫–∞–∑–∞–Ω–æ —è–∫ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å).

    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –º–∏ –∑–∞—Ä–∞–∑ –Ω–∞ –≤–∫–ª–∞–¥—Ü—ñ 'dashboard' –Ü —á–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ jQuery ($) –≤–∂–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ (–∑ public/index.html)
    if (activeTab === 'dashboard' && window.$) { 
      const $window = window.$(window); // –û—Ç—Ä–∏–º—É—î–º–æ –æ–±'—î–∫—Ç –≤—ñ–∫–Ω–∞ jQuery –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ
      const $parallaxElement = window.$('.parallax-container'); // –ó–Ω–∞—Ö–æ–¥–∏–º–æ –Ω–∞—à div –¥–ª—è –ø–∞—Ä–∞–ª–∞–∫—Å—É –∑–∞ –∫–ª–∞—Å–æ–º
      
      // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –µ–ª–µ–º–µ–Ω—Ç –¥–ª—è –ø–∞—Ä–∞–ª–∞–∫—Å—É —ñ—Å–Ω—É—î –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
      if ($parallaxElement.length) { 
        
        // –§—É–Ω–∫—Ü—ñ—è, —è–∫–∞ –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏—Å—è –ø—Ä–∏ –∫–æ–∂–Ω—ñ–π –ø–æ–¥—ñ—ó –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        const handleScroll = () => { 
          const scrolled = $window.scrollTop(); // –î—ñ–∑–Ω–∞—î–º–æ—Å—è, –Ω–∞ —Å–∫—ñ–ª—å–∫–∏ –ø—ñ–∫—Å–µ–ª—ñ–≤ –ø—Ä–æ–∫—Ä—É—á–µ–Ω–æ –≤—ñ–∫–Ω–æ –∑–≤–µ—Ä—Ö—É

          // –ó–º—ñ–Ω—é—î–º–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É –ø–æ–∑–∏—Ü—ñ—é —Ñ–æ–Ω—É (`background-position`).
          // –ú–Ω–æ–∂–∏–º–æ –ø—Ä–æ–∫—Ä—É—Ç–∫—É –Ω–∞ –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç (0.4), —â–æ–± —Ñ–æ–Ω —Ä—É—Ö–∞–≤—Å—è –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ –∑–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É.
          // –¶–µ —Å—Ç–≤–æ—Ä—é—î –µ—Ñ–µ–∫—Ç –ø–∞—Ä–∞–ª–∞–∫—Å—É (–≥–ª–∏–±–∏–Ω–∏).
          $parallaxElement.css('background-position', 'center ' + (scrolled * 0.4) + 'px');
        };

        // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ—ó 'scroll' –¥–æ –≤—ñ–∫–Ω–∞.
        // '.parallax' - —Ü–µ –ø—Ä–æ—Å—Ç—ñ—Ä —ñ–º–µ–Ω, —â–æ–± –º–∏ –º–æ–≥–ª–∏ –ø–æ—Ç—ñ–º –≤–∏–¥–∞–ª–∏—Ç–∏ —Å–∞–º–µ —Ü–µ–π –æ–±—Ä–æ–±–Ω–∏–∫.
        $window.on('scroll.parallax', handleScroll);
        
        // –§—É–Ω–∫—Ü—ñ—è "–æ—á–∏—â–µ–Ω–Ω—è" (cleanup function).
        // React –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–ª–∏—á–µ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é, –ö–û–õ–ò –µ—Ñ–µ–∫—Ç –±—É–¥–µ "–ø—Ä–∏–±–∏—Ä–∞—Ç–∏—Å—è":
        // 1. –ü–µ—Ä–µ–¥ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –∑–∞–ø—É—Å–∫–æ–º —Ü—å–æ–≥–æ –∂ –µ—Ñ–µ–∫—Ç—É (—è–∫—â–æ activeTab –∑–º—ñ–Ω–∏—Ç—å—Å—è).
        // 2. –ö–æ–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç App –±—É–¥–µ –≤–∏–¥–∞–ª–µ–Ω–æ –∑—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (—Ç—É—Ç —Ü–µ –Ω–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ).
        // –¶–µ –í–ê–ñ–õ–ò–í–û –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –≤–∏—Ç–æ–∫–∞–º –ø–∞–º'—è—Ç—ñ —Ç–∞ "–ø–æ–¥–≤—ñ–π–Ω–∏–º" –æ–±—Ä–æ–±–Ω–∏–∫–∞–º.
        return () => {
          $window.off('scroll.parallax'); // –í–∏–¥–∞–ª—è—î–º–æ –Ω–∞—à –æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ—ó scroll
        };
      }
    }
    // –ú–∞—Å–∏–≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π: [activeTab]. –¶–µ–π useEffect –±—É–¥–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç–∏—Å—è —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ,
    // –∫–æ–ª–∏ –∑–Ω–∞—á–µ–Ω–Ω—è `activeTab` –∑–º—ñ–Ω–∏—Ç—å—Å—è.
  }, [activeTab]); 


  // --- –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è –ö–µ—Ä—É–≤–∞–Ω–Ω—è –î–∞–Ω–∏–º–∏ (CRUD) ---

  /**
   * –î–æ–¥–∞—î –Ω–æ–≤–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ —Å–ø–∏—Å–∫—É.
   * –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ AddContainerForm.
   * @param {object} newContainerData - –û–±'—î–∫—Ç –∑ –¥–∞–Ω–∏–º–∏ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ { id, location, destination }.
   */
  const addContainer = (newContainerData) => {
    // –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ–≤–Ω–∏–π –æ–±'—î–∫—Ç –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –¥–æ–¥–∞—é—á–∏ —Å—Ç–∞—Ç—É—Å –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
    const newContainer = { ...newContainerData, status: '–û—á—ñ–∫—É—î' };
    // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω `containers`, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—É —Ñ–æ—Ä–º—É setContainers.
    // –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –º–∏ –ø—Ä–∞—Ü—é—î–º–æ –∑ –Ω–∞–π—Å–≤—ñ–∂—ñ—à–∏–º –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º —Å—Ç–∞–Ω–æ–º.
    // –°—Ç–≤–æ—Ä—é—î–º–æ –ù–û–í–ò–ô –º–∞—Å–∏–≤, –∫–æ–ø—ñ—é—é—á–∏ –≤—Å—ñ —Å—Ç–∞—Ä—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ (...prevContainers) —ñ –¥–æ–¥–∞—é—á–∏ –Ω–æ–≤–∏–π –≤ –∫—ñ–Ω–µ—Ü—å.
    // –í–ê–ñ–õ–ò–í–û: –ù—ñ–∫–æ–ª–∏ –Ω–µ –∑–º—ñ–Ω—é–π—Ç–µ —Å—Ç–∞–Ω –Ω–∞–ø—Ä—è–º—É (push), –∑–∞–≤–∂–¥–∏ —Å—Ç–≤–æ—Ä—é–π—Ç–µ –Ω–æ–≤–∏–π –º–∞—Å–∏–≤/–æ–±'—î–∫—Ç.
    setContainers( (prevContainers) => [...prevContainers, newContainer] );
    // –ü—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è"
    setActiveTab('dashboard');
  };

  /**
   * –í–∏–¥–∞–ª—è—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑—ñ —Å–ø–∏—Å–∫—É –∑–∞ –π–æ–≥–æ ID.
   * –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ContainerList.
   * @param {string} idToDelete - ID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —è–∫–∏–π –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–¥–∞–ª–∏—Ç–∏.
   */
  const deleteContainer = (idToDelete) => {
    // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω `containers`.
    // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –º–µ—Ç–æ–¥ .filter(), —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ù–û–í–ò–ô –º–∞—Å–∏–≤,
    // —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —Ç—ñ–ª—å–∫–∏ —Ç—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏, —á–∏–π 'id' –ù–ï –¥–æ—Ä—ñ–≤–Ω—é—î 'idToDelete'.
    setContainers( (prevContainers) =>
      prevContainers.filter(container => container.id !== idToDelete)
    );
  };
  
  /**
   * –û–Ω–æ–≤–ª—é—î —Å—Ç–∞—Ç—É—Å —ñ—Å–Ω—É—é—á–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
   * –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ContainerList.
   * @param {string} idToUpdate - ID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —Å—Ç–∞—Ç—É—Å —è–∫–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–Ω–æ–≤–∏—Ç–∏.
   * @param {string} newStatus - –ù–æ–≤–∏–π —Å—Ç–∞—Ç—É—Å –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
   */
  const updateContainerStatus = (idToUpdate, newStatus) => {
    // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω `containers`.
    // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –º–µ—Ç–æ–¥ .map(), —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ù–û–í–ò–ô –º–∞—Å–∏–≤.
    setContainers( (prevContainers) =>
      prevContainers.map(container =>
        // –Ø–∫—â–æ 'id' –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑ 'idToUpdate'...
        (container.id === idToUpdate)
          // ...—Ç–æ —Å—Ç–≤–æ—Ä—é—î–º–æ –ù–û–í–ò–ô –æ–±'—î–∫—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–æ–ø—ñ—é—é—á–∏ –≤—Å—ñ —Å—Ç–∞—Ä—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ (...container)
          // —ñ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É—é—á–∏ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å 'status' –Ω–æ–≤–∏–º –∑–Ω–∞—á–µ–Ω–Ω—è–º 'newStatus'.
          ? { ...container, status: newStatus }
          // ...—ñ–Ω–∞–∫—à–µ (—è–∫—â–æ —Ü–µ –Ω–µ —Ç–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —è–∫–∏–π –º–∏ —à—É–∫–∞—î–º–æ) - –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –π–æ–≥–æ –±–µ–∑ –∑–º—ñ–Ω.
          : container 
      )
    );
  };

  // --- –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ ---
  // –¶–µ–π –æ–±'—î–∫—Ç —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –ü–†–ò –ö–û–ñ–ù–û–ú–£ —Ä–µ–Ω–¥–µ—Ä—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ App –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ü–û–¢–û–ß–ù–û–ì–û —Å—Ç–∞–Ω—É `containers`.
  // –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≤–∂–¥–∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞.
  const stats = {
    // –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å = –¥–æ–≤–∂–∏–Ω–∞ –º–∞—Å–∏–≤—É containers
    total: containers.length,
    // –ö—ñ–ª—å–∫—ñ—Å—Ç—å "–£ –¥–æ—Ä–æ–∑—ñ" = –¥–æ–≤–∂–∏–Ω–∞ –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω–æ–≥–æ –º–∞—Å–∏–≤—É
    transit: containers.filter(c => c.status === '–£ –¥–æ—Ä–æ–∑—ñ').length,
    // –ö—ñ–ª—å–∫—ñ—Å—Ç—å "–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ"
    delivered: containers.filter(c => c.status === '–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ').length,
    // –ö—ñ–ª—å–∫—ñ—Å—Ç—å "–û—á—ñ–∫—É—î"
    pending: containers.filter(c => c.status === '–û—á—ñ–∫—É—î').length,
  };

  // --- –û–±—Ä–æ–±–Ω–∏–∫ –ù–∞–≤—ñ–≥–∞—Ü—ñ—ó ---

  /**
   * –û–±—Ä–æ–±–ª—è—î –∫–ª—ñ–∫ –Ω–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó.
   * –û–Ω–æ–≤–ª—é—î —Å—Ç–∞–Ω `activeTab`, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂—É–≤–∞–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É.
   * @param {string} tabName - –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –≤–∫–ª–∞–¥–∫–∏ ('dashboard', 'add', 'reports').
   */
  const handleNavClick = (tabName) => {
    // –ü—Ä–æ—Å—Ç–æ –æ–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω –∞–∫—Ç–∏–≤–Ω–æ—ó –≤–∫–ª–∞–¥–∫–∏
    setActiveTab(tabName);
  };

  // --- JSX –†–æ–∑–º—ñ—Ç–∫–∞ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ---
  // –ü–æ–≤–µ—Ä—Ç–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É UI, —è–∫—É React –º–∞—î –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç–∏.
  return (
    // –ì–æ–ª–æ–≤–Ω–∏–π div-–æ–±–≥–æ—Ä—Ç–∫–∞ –∑ –∫–ª–∞—Å–æ–º 'App'
    <div className="App"> 
      <header className="header">

        <h1>üö¢ –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–µ—Ä–µ–≤–µ–∑–µ–Ω–Ω—è–º–∏ (React SPA)</h1>
      </header>

      <nav className="navigation">
        <ul>
          <li>

            <a 
              href="#!" 
              onClick={() => handleNavClick('dashboard')} 
              className={activeTab === 'dashboard' ? 'active' : ''}
            >
              –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
            </a>
          </li>
          <li>
            <a 

              href="#!" 
              onClick={() => handleNavClick('add')}
              className={activeTab === 'add' ? 'active' : ''}
            >
              –î–æ–¥–∞—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
            </a>
          </li>
          <li>
            <a 

              href="#!" 
              onClick={() => handleNavClick('reports')}
              className={activeTab === 'reports' ? 'active' : ''}
            >
              –ó–≤—ñ—Ç–∏
            </a>
          </li>
        </ul>
      </nav>

      <main className="container">
        
        {activeTab === 'dashboard' && (
          // --- –ó–ê–í–î–ê–ù–ù–Ø 3.1: –î–æ–¥–∞—î–º–æ –ø–∞—Ä–∞–ª–∞–∫—Å-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ---
          <section id="dashboard-section" style={{ gridColumn: '1 / -1' }}> 
            
            {/* –¶–µ —Ç–∏–ø—É –ø–∞—Ä–∞–ª–∞–∫—Å-–µ–ª–µ–º–µ–Ω—Ç */}
            <div 
              className="parallax-container" 
              style={{ backgroundImage: `url('/containers.jpg')` }} 
            >
              <div className="parallax-content">
                <h2>–ê–∫—Ç–∏–≤–Ω—ñ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ & –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥</h2>
                <p>–ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤–∞—à–∏–º–∏ –ø–µ—Ä–µ–≤–µ–∑–µ–Ω–Ω—è–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.</p>
              </div>
            </div>

            {/* –¢–µ–ø–µ—Ä —Ç–∞–±–ª–∏—Ü—è –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –±—É–¥–µ –π—Ç–∏ –Ω–∏–∂—á–µ */}
            <div className="dashboard-section" style={{ marginTop: '2rem' }}>
              <h2>–°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤</h2>
              <ContainerList
                containers={containers}
                onDelete={deleteContainer}
                onUpdate={updateContainerStatus}
              />
            </div>
          </section>
        )}

        {activeTab === 'add' && (
          <section id="add-section" className="form-section" style={{ gridColumn: '1 / -1' }}> 
            <h2>–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä</h2>
            <AddContainerForm onAdd={addContainer} />
          </section>
        )}

        {activeTab === 'reports' && (
          <section id="reports-section" className="dashboard-section" style={{ gridColumn: '1 / -1' }}>
            <h2>–ó–≤—ñ—Ç–∏: –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω</h2>
            <p>–¶—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ–∫–∞–∑—É—î –ø—Ä–æ—Å—Ç—É –∞–Ω–∞–ª—ñ—Ç–∏–∫—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–ø–∏—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤...</p>
            
            <ul style={{ fontSize: '1.2rem', lineHeight: '1.8' }}>

              <li><strong>–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤:</strong> {stats.total}</li>
              <li><strong>–ö—ñ–ª—å–∫—ñ—Å—Ç—å —É –¥–æ—Ä–æ–∑—ñ:</strong> {stats.transit}</li>
              <li><strong>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—Ö:</strong> {stats.delivered}</li>
              <li><strong>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—ñ:</strong> {stats.pending}</li>
            </ul>
          </section>
        )}
      </main>

      <footer className="footer">

        <p>&copy; 2025 –ú–æ–¥—É–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞, {useName ? useName : '–î–º–∏—Ç—Ä–æ'}. React SPA.</p>
      </footer>
    </div>
  );
}

const useName = "–õ–∏—Ç–≤–∏–Ω–µ–Ω–∫–æ –î–º–∏—Ç—Ä–æ"; 

export default App;

